name: Branch Protection & Developer Guidance

on:
  push:
    branches-ignore:
      - main
      - master
  pull_request:
    branches:
      - main
      - master

jobs:
  welcome-developer:
    runs-on: ubuntu-latest
    if: github.event_name == 'push' && github.ref != 'refs/heads/main'
    steps:
      - name: Welcome New Contributor
        run: |
          echo "ğŸ‰ Welcome to Tech Skills Hub!"
          echo "âœ… Great job creating a feature branch: ${{ github.ref_name }}"
          echo "ğŸ“‹ Next steps:"
          echo "1. Make your changes"
          echo "2. Push commits to this branch"
          echo "3. Create a Pull Request to merge into main"

  branch-naming-check:
    runs-on: ubuntu-latest
    if: github.event_name == 'push'
    steps:
      - name: Check Branch Naming Convention
        run: |
          branch_name="${{ github.ref_name }}"
          if [[ "$branch_name" =~ ^(feature|bugfix|hotfix|docs)/.+ ]]; then
            echo "âœ… Branch name follows convention: $branch_name"
          elif [[ "$branch_name" == "main" || "$branch_name" == "master" ]]; then
            echo "â„¹ï¸ Main branch - no naming check needed"
          else
            echo "âš ï¸ Consider using naming convention: feature/your-feature-name"
            echo "ğŸ“‹ Recommended prefixes: feature/, bugfix/, hotfix/, docs/"
          fi

  pr-validation:
    runs-on: ubuntu-latest
    if: github.event_name == 'pull_request'
    steps:
      - name: Validate Pull Request
        run: |
          echo "ğŸ” Validating Pull Request to main branch"
          echo "âœ… PR Title: ${{ github.event.pull_request.title }}"
          echo "ğŸ‘¤ Author: ${{ github.event.pull_request.user.login }}"
          echo "ğŸŒ¿ From: ${{ github.event.pull_request.head.ref }}"
          echo "ğŸ¯ To: ${{ github.event.pull_request.base.ref }}"